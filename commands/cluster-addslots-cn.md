此命令对于修改节点的群集视图很有用
配置。具体来说，它为节点分配了一组哈希槽。
接收命令。如果命令成功，节点将映射
指定的哈希槽到其自身，并将开始广播新的
配置。

但请注意：

1.  仅当从接收命令的节点的角度来看，所有指定的插槽当前未分配时，该命令才有效。节点将拒绝获得已属于其他节点（包括其自身）的插槽的所有权。
2.  如果多次指定同一插槽，则该命令将失败。
3.  作为命令执行的副作用，如果指定为参数的插槽中的插槽设置为`importing`，则一旦节点将（以前未绑定的）槽分配给自身，此状态就会被清除。

## 例

例如，以下命令将插槽 1 2 3 分配给接收节点
命令：

    > CLUSTER ADDSLOTS 1 2 3
    OK

但是，尝试再次执行它会导致错误，因为插槽
已分配：

    > CLUSTER ADDSLOTS 1 2 3
    ERR Slot 1 is already busy

## 在 Redis 集群中的用法

此命令仅在群集模式下有效，在以下情况下很有用
Redis 集群操作：

1.  要创建新的集群，请使用ADDLOTS，以便最初设置主节点在它们之间拆分可用的哈希槽。
2.  为了修复未分配某些插槽的损坏群集。

## 有关插槽传播和警告的信息

请注意，一旦节点为自己分配了一组插槽，它就会启动
在检测信号数据包标头中传播此信息。但是
其他节点仅当其插槽为
尚未与另一个节点绑定，或者如果
节点通告新的哈希槽，大于当前列出的节点
在表中。

这意味着只有应用程序才能谨慎使用此命令
编排 Redis Cluster，如`redis-cli`和命令（如果使用）
脱离正确的上下文可能会使群集处于错误状态或导致
数据丢失。

@return

@simple字符串回复：`OK`如果命令成功。否则，将返回错误。
