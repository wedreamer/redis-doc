返回存储在`<key>`.

`ZRANGE`可以执行不同类型的范围查询：按索引 (排名) 、按分数或按词典顺序。

从 Redis 6.2.0 开始, 此命令可以替换以下命令：`ZREVRANGE`,`ZRANGEBYSCORE`,`ZREVRANGEBYSCORE`,`ZRANGEBYLEX`和`ZREVRANGEBYLEX`.

## 常见行为和选项

元素的顺序是从最低到最高分数。具有相同分数的元素按字典顺序排序。

可选`REV`参数反转排序, 因此元素从最高分数到最低分数排序, 分数关系通过反向词典排序来解决。

可选`LIMIT`参数可用于从匹配元素获取子范围 (类似于*选择极限偏, , 计数*在 SQL ) ) 。
否定`<count>`返回`<offset>`.请记住, 如果`<offset>`较大, 需要遍历的排序集`<offset>`元素之前到达要返回的元素, 这会增加 O () )  时间复杂度。

可选`WITHSCORES`参数使用返回的元素数十个来补充命令的回复。返回的列表包含`value1,score1,...,valueN,scoreN`而不是`value1,...,valueN`.客户端库可以自由地返回更合适的数据类型 (建议：带有 , 值, ) 数) 数组/元组的) 组) 。

## 索引范围

默认情况下, 该命令执行索引范围查询。这`<start>`和`<stop>`参数表示从零开始的索引, 其中`0`是第一个元素, `1`是下一个元素, 依此类推。这些参数指定**包含范围**, 例如, `ZRANGE myzset 0 1`将返回已排序集的第一个和第二个元素。

索引也可以是负数, 表示从排序集末尾开始的偏移量, 具有`-1`是排序集的最后一个元素, `-2`倒数第二个元素, 依此类推。

超出范围的索引不会产生错误。

如果`<start>`大于已排序集的结束索引, 或者`<stop>`, 则返回一个空列表。

如果`<stop>`大于排序集的结束索引, Redis 将使用排序集的最后一个元素。

## 分数范围

当`BYSCORE`选项, 命令的行为类似于`ZRANGEBYSCORE`并返回排序集中得分等于或介于两者之间的元素范围`<start>`和`<stop>`.

`<start>`和`<stop>`可以是`-inf`和`+inf`, 分别表示负无穷大和正无穷大。这意味着您不需要知道排序集中的最高或最低分数即可从某个分数或最高某个分数获取所有元素。

默认情况下, 由`<start>`和`<stop>`是封闭的 (包) ) 。
可以通过在分数前面加上前缀来指定开放间隔 (独) ) 
与角色`(`.

例如：

    ZRANGE zset (1 5 BYSCORE

将返回所有元素`1 < score <= 5`而：

    ZRANGE zset (5 (10 BYSCORE

将返回所有元素`5 < score < 10` (不包括 5 和 1) ) 。

## 反向范围

使用`REV`选项可反转排序集, 索引 0 为得分最高的元素。

默认情况下, `<start>`必须小于或等于`<stop>`以返回任何内容。
但是, 如果`BYSCORE`或`BYLEX`选项被选中, `<start>`是要考虑的最高分, 并且`<stop>`是要考虑的最低分数, 因此`<start>`必须大于或等于`<stop>`为了返回任何东西。

例如：

    ZRANGE zset 5 10 REV

将返回反向索引中索引 5 和 10 之间的元素。

    ZRANGE zset 10 5 REV BYSCORE

将返回分数小于 10 且大于 5 的所有元素。

## 词典编纂范围

当`BYLEX`选项, 命令的行为类似于`ZRANGEBYLEX`并返回排序集中的元素范围`<start>`和`<stop>`词典闭合范围区间。

请注意, 词典排序依赖于具有相同分数的所有元素。当元素具有不同的分数时, 未指定回复。

有效`<start>`和`<stop>`必须从`(`或`[`, 以便指定
范围间隔分别是排他性的还是包含性的。

的特殊值`+`或`-`为`<start>`和`<stop>`分别是正数和负数无限字符串, 例如命令`ZRANGE myzset - + BYLEX`保证返回排序集中的所有元素, 前提是所有元素都具有相同的分数。

这`REV`选项反转`<start>`和`<stop>`元素, 其中`<start>`在词典上必须大于`<stop>`以生成非空结果。

### 字符串的词典编纂比较

将字符串作为字节的二进制数组进行比较。由于 ASCII 字符集的指定方式, 这意味着通常这也具有以明显的字典方式比较正常 ASCII 字符的效果。但是, 如果使用非纯 ASCII 字符串 (例, , utf8 字符), ) , 则情况并非如此。

但是, 用户可以对编码的字符串应用转换, 以便插入到排序集中的元素的第一部分将按照用户对特定应用程序的要求进行比较。例如, 如果我想
添加将以不区分大小写的方式进行比较的字符串, 但我仍然
查询时想检索真实情况, 我可以在
以下方式：

    ZADD autocomplete 0 foo:Foo 0 bar:BAR 0 zap:zap

因为第一个*规范化*每个元素中的部分 (在冒号字符之), ) , 我们强制进行给定的比较, 但是, 在查询, 围后, 使用`ZRANGE ... BYL, X`, 应用程序可以向用户显示字符串的第, 部分, 在冒号之后。

比较的二进制性质允许使用排序集作为通用索引, 例如, 元素的第一部分可以是64位大端数。由于大端数在初始位置具有最重要的字节, 因此二进制比较将与数字的数值比较相匹配。这可用于对 64 位值实现范围查询。如下面的示例所示, 在前 8 个字节之后, 我们可以存储要编制索引的元素的值。

@return

@array回复：指定范围内的元素列表 (可选
他们的分数, 以防万一`WITHSCORES`给出了选项) 。

@examples

```cli
ZADD myzset 1 "one"
ZADD myzset 2 "two"
ZADD myzset 3 "three"
ZRANGE myzset 0 -1
ZRANGE myzset 2 3
ZRANGE myzset -2 -1
```

以下示例使用`WITHSCORES`显示命令如何始终返回数组, 但这次填充了*element\_1*,*score\_1*,*element\_2*,*score\_2*, ...,*element_N*,*score_N*.

```cli
ZRANGE myzset 0 1 WITHSCORES
```

此示例演示如何查询按分数排序的集, 不包括值`1`并且直到无穷大, 仅返回结果的第二个元素：

```cli
ZRANGE myzset (1 +inf BYSCORE LIMIT 1 1
```
