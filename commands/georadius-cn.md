返回使用地理空间信息填充的已排序集的成员`GEOADD`，它们位于使用中心位置和距中心的最大距离（半径）指定的区域的边界内。

本手册页还介绍了`GEORADIUS_RO`和`GEORADIUSBYMEMBER_RO`变体（有关详细信息，请参阅下面的部分）。

此命令的常见用例是检索指定点附近的地理空间项目，其距离不超过给定的米数（或其他单位）。例如，这允许建议应用程序附近的移动用户。

半径以下列单位之一指定：

*   **m**表示米。
*   **公里**公里。
*   **米**数英里。
*   **英尺**脚。

该命令可选择使用以下选项返回其他信息：

*   `WITHDIST`：同时返回返回的项目与指定中心的距离。距离以与指定为命令半径参数的单位相同的单位返回。
*   `WITHCOORD`：同时返回匹配项的经度，纬度坐标。
*   `WITHHASH`：还以 52 位无符号整数的形式返回项目的原始 geohash 编码的排序集分数。这仅对低级黑客或调试有用，否则对普通用户来说没什么意义。

命令默认值是返回未排序的项。可以使用以下两个选项调用两种不同的排序方法：

*   `ASC`：相对于中心，从最近到最远的返回项目进行排序。
*   `DESC`：相对于中心，从最远到最近的位置对返回的项目进行排序。

默认情况下，将返回所有匹配项。可以使用**计数`<count>`**选择。
什么时候`ANY`提供命令将在找到足够的匹配项后立即返回，
因此，结果可能不是最接近指定点的结果，但另一方面，服务器投入的精力要低得多。
什么时候`ANY`如果未提供，则该命令将执行与指定区域匹配的项目数成比例的工作并对其进行排序，
所以要查询非常大的区域，用非常小的区域`COUNT`选项可能会很慢，即使只返回几个结果。

默认情况下，该命令将项目返回到客户端。可以使用以下选项之一存储结果：

*   `!STORE`：将项目存储在填充了其地理空间信息的排序集中。
*   `!STOREDIST`：将项目存储在已排序的集中，该集合以浮点数的形式填充其与中心的距离，以半径中指定的相同单位存储。

@return

@array回复，具体而言：

*   没有任何`WITH`选项指定，该命令仅返回一个线性数组，如 \[“纽约”，“米兰”，“巴黎”]。
*   如果`WITHCOORD`,`WITHDIST`或`WITHHASH`指定选项，该命令返回数组数组，其中每个子数组表示单个项。

当附加信息作为每个项目的数组数组返回时，子数组中的第一个项目始终是返回项目的名称。其他信息按以下顺序作为子数组的连续元素返回。

1.  以浮点数表示的距中心距离，采用半径中指定的相同单位。
2.  地理哈希整数。
3.  坐标为两个项目 x，y 数组（经度、纬度）。

例如，命令`GEORADIUS Sicily 15 37 200 km WITHCOORD WITHDIST`将按以下方式返回每个项目：

    ["Palermo","190.4424",["13.361389338970184","38.115556395496299"]]

## 只读变体

因为`GEORADIUS`和`GEORADIUSBYMEMBER`有一个`STORE`和`STOREDIST`选项 它们在技术上被标记为 Redis 命令表中的写入命令。因此，只读副本将标记它们，并且 Redis 集群副本会将它们重定向到主实例，即使连接处于只读模式也是如此（请参阅`READONLY`Redis Cluster 的命令）。

至少对于Redis 4.0来说，打破与过去的兼容性被考虑过但被拒绝了，因此添加了命令的两个只读变体。它们与原始命令完全相同，但拒绝`STORE`和`STOREDIST`选项。这两个变体称为`GEORADIUS_RO`和`GEORADIUSBYMEMBER_RO`，并且可以安全地用于副本。

@examples

```cli
GEOADD Sicily 13.361389 38.115556 "Palermo" 15.087269 37.502669 "Catania"
GEORADIUS Sicily 15 37 200 km WITHDIST
GEORADIUS Sicily 15 37 200 km WITHCOORD
GEORADIUS Sicily 15 37 200 km WITHDIST WITHCOORD
```
