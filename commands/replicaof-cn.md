这`REPLICAOF`命令可以动态更改副本的复制设置。

如果 Redis 服务器已充当副本, 则命令`REPLICAOF`没有人会关闭复制, 将 Redis 服务器变成主服务器。 以适当的形式`REPLICAOF`主机名端口将使服务器成为侦听指定主机名和端口的另一台服务器的副本。

如果服务器已经是某个主服务器的副本, `REPLICAOF`主机名端口将停止对旧服务器的复制, 并针对新服务器启动同步, 丢弃旧数据集。

表单`REPLICAOF`没有人会停止复制, 将服务器变成主服务器, 但不会丢弃复制。因此, 如果旧的主服务器停止工作, 则可以将副本转换为主服务器, 并将应用程序设置为在读/写中使用此新主服务器。稍后, 当另一个 Redis 服务器修复时, 可以将其重新配置为作为副本工作。

@return

@simple字符串回复

@examples

    > REPLICAOF NO ONE
    "OK"

    > REPLICAOF 127.0.0.1 6799
    "OK"
