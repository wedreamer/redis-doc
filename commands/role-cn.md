提供有关 Redis 实例在复制上下文中的角色的信息，如果实例当前是`master`,`slave`或`sentinel`.该命令还返回有关复制状态（如果角色是主节点或从节点）或受监视主节点名称列表（如果角色是 sentinel）的其他信息。

## 输出格式

该命令返回一个元素数组。第一个要素是作用
实例，作为以下三个字符串之一：

*   “主人”
*   “奴隶”
*   “哨兵”

数组的附加元素取决于角色。

## 主输出

输出示例`ROLE`在主实例中调用：

    1) "master"
    2) (integer) 3129659
    3) 1) 1) "127.0.0.1"
          2) "9001"
          3) "3129242"
       2) 1) "127.0.0.1"
          2) "9002"
          3) "3129543"

主输出由以下部分组成：

1.  字符串`master`.
2.  当前主复制偏移量，即主副本和副本共享的偏移量，用于在部分重新同步时了解副本需要提取的复制流部分才能继续。
3.  由三个元素组成的数组，表示连接的副本。每个子阵列都包含副本 IP、端口和上次确认的复制偏移。

## 副本上命令的输出

输出示例`ROLE`在副本实例中调用：

    1) "slave"
    2) "127.0.0.1"
    3) (integer) 9000
    4) "connected"
    5) (integer) 3167038

副本输出由以下部分组成：

1.  字符串`slave`，因为向后兼容（请参阅本页末尾的注释）。
2.  主设备的 IP。
3.  主服务器的端口号。
4.  从主站的角度来看复制的状态，可以是`connect`（实例需要连接到其主实例），`connecting`（主副本连接正在进行中），`sync`（主服务器和复制副本正在尝试执行同步），`connected`（复制副本处于联机状态）。
5.  到目前为止，从副本接收的数据量（按主复制偏移量计算）。

## 哨兵输出

哨兵输出示例：

    1) "sentinel"
    2) 1) "resque-master"
       2) "html-fragments-master"
       3) "stats-master"
       4) "metadata-master"

哨兵输出由以下部分组成：

1.  字符串`sentinel`.
2.  由此 Sentinel 实例监视的主名称数组。

@return

@array回复：其中第一个元素是`master`,`slave`,`sentinel`附加元素是特定于角色的，如上图所示。

@examples

```cli
ROLE
```

**关于本手册页中使用的“奴隶”一词的说明**：从 Redis 5 开始，如果不是为了向后兼容，Redis 项目不再使用“从属”一词。不幸的是，在此命令中，单词 slave 是协议的一部分，因此只有当此 API 自然弃用时，我们才能删除此类事件。
