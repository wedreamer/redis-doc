返回字符串中设置为 1 或 0 的第一个位的位置。

返回位置, 将字符串视为从左到
右, 其中第一个字节的最高有效位位于位置 0, 第二个字节
byte 的最高有效位位于位置 8, 依此类推。

相同的位位置约定后跟`GETBIT`和`SETBIT`.

默认情况下, 将检查字符串中包含的所有字节。
可以仅在传递其他参数的指定间隔内查找位*开始*和*结束* (可以直接通过*开始*, 该操作将假定末尾是字符串的最后一个字节。但是, 正如后面所解释的那样, 存在语义差异) 。
默认情况下, 该范围被解释为字节范围而不是位范围, 因此`start=0`和`end=2`表示查看前三个字节。

您可以使用可选的`BIT`修饰符, 用于指定应将范围解释为位范围。
所以`start=0`和`end=2`意味着看前三位。

请注意, 位位置始终作为从位零开始的绝对值返回, 即使*开始*和*结束*用于指定范围。

喜欢`GETRANGE`命令开始和结束可以包含负值
从字符串末尾开始索引字节的顺序, 其中 -1 是最后一个
byte,  -2 是倒数第二个, 依此类推。什么时候`BIT`指定, -1 是最后一个
位, -2 是倒数第二个, 依此类推。

不存在的键将被视为空字符串。

@return

@integer回复

该命令根据请求返回设置为 1 或 0 的第一个位的位置。

如果我们查找设置位 (位参数为 1) , 并且字符串为空或仅由零字节组成, 则返回 -1。

如果我们查找清晰的位 (位参数为 0) , 并且字符串仅包含设置为 1 的位, 则该函数返回第一个位, 而不是右侧字符串的一部分。因此, 如果字符串是设置为值的三个字节`0xff`命令`BITPOS key 0`将返回 24, 因为到位 23, 所有位都是 1。

基本上, 如果您查找清晰位并指定任何范围或*开始*论点**只**.

但是, 如果您要查找清晰位并指定两者兼而有之的范围, 则此行为会发生变化**开始**和**结束**.如果在指定范围内未找到清除位, 则该函数返回 -1, 因为用户指定了清除范围, 并且该范围内没有 0 位。

@examples

```cli
SET mykey "\xff\xf0\x00"
BITPOS mykey 0
SET mykey "\x00\xff\xf0"
BITPOS mykey 1 0
BITPOS mykey 1 2
BITPOS mykey 1 2 -1 BYTE
BITPOS mykey 1 7 15 BIT
set mykey "\x00\x00\x00"
BITPOS mykey 1
BITPOS mykey 1 7 -3 BIT
```
