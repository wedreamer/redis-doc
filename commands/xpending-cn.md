通过使用者组从流中获取数据，但不确认
这样的数据，具有创造的效果*待处理的条目*.这是
在`XREADGROUP`命令，甚至更好在我们的
[Redis Streams 简介](/topics/streams-intro).这`XACK`命令
将立即从待处理条目列表 （PEL） 中删除待处理条目
因为一旦消息成功处理，就不再需要
供消费者组跟踪并记住当前所有者
的消息。

这`XPENDING`命令是检查挂起列表的接口
消息，因此是观察的一个非常重要的命令
并了解流消费群体正在发生的事情：什么
客户端处于活动状态，哪些消息正在等待使用，或查看
如果有空闲消息。此外，此命令，以及`XCLAIM`
用于实现对失败的使用者的恢复
很长一段时间，因此某些消息不被处理：a
不同的消费者可以声明消息并继续。这样更好
解释在[流介绍](/topics/streams-intro)和
`XCLAIM`命令页，此处未涉及。

## XPENDING的摘要形式

什么时候`XPENDING`仅使用键名和使用者组进行调用
名称，它只是输出有关给定消息中挂起消息的摘要
消费者组。在以下示例中，我们创建一个使用者组，然后
立即创建挂起的消息，方法是从组中读取
`XREADGROUP`.

    > XGROUP CREATE mystream group55 0-0
    OK

    > XREADGROUP GROUP group55 consumer-123 COUNT 1 STREAMS mystream >
    1) 1) "mystream"
       2) 1) 1) 1526984818136-0
             2) 1) "duration"
                2) "1532"
                3) "event-id"
                4) "5"
                5) "user-id"
                6) "7782813"

我们预计消费者组的待处理条目列表`group55`自
现在有一条消息：消费者命名为`consumer-123`已获取
消息，但不确认其处理。简单`XPENDING`
表格将向我们提供以下信息：

    > XPENDING mystream group55
    1) (integer) 1
    2) 1526984818136-0
    3) 1526984818136-0
    4) 1) 1) "consumer-123"
          2) "1"

在此窗体中，该命令输出此挂起消息的总数
消费者群体，即一个，其次是最小和最大的ID
挂起的消息，然后列出使用者组中的每个使用者
至少一条挂起的消息，以及它具有的挂起消息数。

## XPENDING的扩展形式

摘要提供了一个很好的概述，但有时我们对
详。为了查看所有挂起的消息与更多关联
信息 我们还需要传递一系列ID，以类似的方式
`XRANGE`和非可选*计数*参数，以限制数量
每次调用返回的消息数：

    > XPENDING mystream group55 - + 10
    1) 1) 1526984818136-0
       2) "consumer-123"
       3) (integer) 196415
       4) (integer) 1

在扩展表单中，我们不再看到摘要信息，而是在那里
是挂起的条目列表中每封邮件的详细信息。为
每条消息返回四个属性：

1.  消息的 ID。
2.  获取消息并仍必须确认消息的使用者的名称。我们称之为电流*所有者*的消息。
3.  自上次将此消息传递给此使用者以来经过的毫秒数。
4.  传递此邮件的次数。

递送计数器（即数组中的第四个元素）递增
当其他一些消费者*索赔*消息与`XCLAIM`，或者当
消息再次通过以下方式传递`XREADGROUP`，访问历史记录时
消费者组中的消费者（请参阅`XREADGROUP`页面以获取更多信息）。

可以按顺序向命令传递其他参数
以查看具有特定所有者的消息：

    > XPENDING mystream group55 - + 10 consumer-123

但是在上面的情况下，输出将是相同的，因为我们有待定
仅针对单个使用者的消息。但是，重要的是要保持
介意是，由特定消费者过滤的此操作不是
即使有许多来自许多使用者的待处理消息，效率也很低：
我们有一个待处理的条目列表数据结构，既全局，又
每个消费者，因此我们可以非常有效地仅显示待处理的消息
单个使用者。

## 空闲时间筛选器

还可以按空闲时间过滤挂起的流条目，
以毫秒为单位给出（适用于`XCLAIM`尚未进入的条目
处理了一段时间）：

    > XPENDING mystream group55 IDLE 9000 - + 10
    > XPENDING mystream group55 IDLE 9000 - + 10 consumer-123

第一个事例将返回整个组的前 10 个（或更少）PEL 条目
闲置时间超过 9 秒，而在第二种情况下，只有
`consumer-123`.

## 独占范围和迭代 PEL

这`XPENDING`命令允许迭代挂起的条目，就像
`XRANGE`和`XREVRANGE`允许流的条目。您可以通过以下方式执行此操作
在最后读取的挂起条目的 ID 前面加上`(`字符
表示一个开放（排除）范围，并向后续调用来证明它
命令。

@return

@array回复，具体而言：

该命令以不同的格式返回数据，具体取决于它的方式
调用，如本页前面所述。但是，回复始终是
一个项数组。
