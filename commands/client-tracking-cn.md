此命令启用使用的 Redis 服务器的跟踪功能
为[服务器辅助客户端缓存](/topics/client-side-caching).

启用跟踪后，Redis 会记住连接的密钥
请求，以便稍后发送失效消息，当此类密钥
改 性。失效消息在同一连接中发送（仅可用）
当使用 RESP3 协议时）或在不同的连接中重定向
（也可用于 RESP2 和 Pub/Sub）。特别*广播*模式是
可用，其中参与此协议的客户端接收每个
通知只是订阅给定的键前缀，而不管
他们要求的密钥。鉴于论点的复杂性，请
指[主客户端缓存文档](/topics/client-side-caching)了解详情。本手册页只是此子命令选项的参考。

要启用跟踪，请使用：

    CLIENT TRACKING on ... options ...

该功能将在其整个生命周期内在当前连接中保持活动状态，
除非使用`CLIENT TRACKING off`在某个时候。

以下是修改
命令，启用跟踪时：

*   `REDIRECT <id>`：将失效消息发送到具有指定 ID 的连接。连接必须存在。您可以使用以下命令获取连接的 ID`CLIENT ID`.如果我们要重定向到的连接终止，则在 RESP3 模式下，启用了跟踪的连接将收到`tracking-redir-broken`推送消息以发出条件信号。
*   `BCAST`：在广播模式下启用跟踪。在此模式下，无论连接请求的密钥如何，都会报告所有指定前缀的失效消息。相反，当未启用广播模式时，Redis 将使用只读命令跟踪获取哪些密钥，并且仅报告此类密钥的失效消息。
*   `PREFIX <prefix>`：对于广播，请注册给定的密钥前缀，以便仅为以此字符串开头的密钥提供通知。可以多次提供此选项以注册多个前缀。如果在未启用此选项的情况下启用广播，Redis 将为每个密钥发送通知。您无法删除单个前缀，但可以通过停用并重新启用跟踪来删除所有前缀。使用此选项会增加 O（N^2） 的额外时间复杂度，其中 N 是跟踪的前缀总数。
*   `OPTIN`：当广播不活动时，通常不会在只读命令中跟踪键，除非在`CLIENT CACHING yes`命令。
*   `OPTOUT`：当广播不活动时，通常在只读命令中跟踪键，除非在`CLIENT CACHING no`命令。
*   `NOLOOP`：不要发送有关此连接本身修改的密钥的通知。

@return

@simple字符串回复：`OK`如果连接已成功置于跟踪模式或跟踪模式已成功禁用。否则，将返回错误。
