`CLUSTER SLOTS`返回有关哪些集群槽映射到哪些 Redis 实例的详细信息。
该命令适合由 Redis 集群客户端库实现使用，以便检索（或在收到重定向时更新）关联集群的映射*哈希槽*使用实际节点的网络信息，以便在收到命令时，可以将其发送到命令中指定的密钥的正确实例。

每个节点的网络信息是一个包含以下元素的数组：

*   首选终结点（IP 地址、主机名或 NULL）
*   端口号
*   节点标识
*   其他网络元数据的映射

首选终结点以及端口定义客户端应用于发送给定槽的请求的位置。
终结点的 NULL 值表示节点具有未知终结点，客户端应连接到用于发送`CLUSTER SLOTS`命令，但端口从命令返回。
当 Redis 节点位于 Redis 不知道其终端节点的负载均衡器后面时，此未知终端节点配置非常有用。
将哪个终结点设置为首选由`cluster-preferred-endpoint-type`配置。

其他网络元数据作为每个节点的第四个参数上的映射提供。
可能会返回以下网络元数据：

*   IP：当首选终结点未设置为 IP 时。
*   主机名：当节点具有已公布的主机名，但主终结点未设置为主机名时。

## 嵌套结果数组

每个嵌套结果为：

*   起始插槽范围
*   端槽范围
*   槽范围的主服务器表示为嵌套网络信息
*   插槽范围主服务器的第一个副本
*   第二个副本
*   ...继续，直到返回此主服务器的所有复制副本。

每个结果包括主实例的所有活动副本
对于列出的插槽范围。 不返回失败的复制副本。

第三个嵌套应答保证是槽域主实例的联网信息。
第三个嵌套应答之后的所有网络信息都是主服务器的副本。

如果集群实例具有不连续的槽（例如 1-400，900，1800-6000），则对于每个顶级槽范围应答，主节点和副本网络信息结果将重复。

@return

@array回复：带有网络信息的插槽范围的嵌套列表。

@examples

    > CLUSTER SLOTS
    1) 1) (integer) 0
       2) (integer) 5460
       3) 1) "127.0.0.1"
          2) (integer) 30001
          3) "09dbe9720cda62f7865eabc5fd8857c5d2678366"
          4) 1) hostname
             2) "host-1.redis.example.com"
       4) 1) "127.0.0.1"
          2) (integer) 30004
          3) "821d8ca00d7ccf931ed3ffc7e3db0599d2271abf"
          4) 1) hostname
             2) "host-2.redis.example.com"
    2) 1) (integer) 5461
       2) (integer) 10922
       3) 1) "127.0.0.1"
          2) (integer) 30002
          3) "c9d93d9f2c0c524ff34cc11838c2003d8c29e013"
          4) 1) hostname
             2) "host-3.redis.example.com"
       4) 1) "127.0.0.1"
          2) (integer) 30005
          3) "faadb3eb99009de4ab72ad6b6ed87634c7ee410f"
          4) 1) hostname
             2) "host-4.redis.example.com"
    3) 1) (integer) 10923
       2) (integer) 16383
       3) 1) "127.0.0.1"
          2) (integer) 30003
          3) "044ec91f325b7595e76dbcb18cc688b6a5b434a1"
          4) 1) hostname
             2) "host-5.redis.example.com"
       4) 1) "127.0.0.1"
          2) (integer) 30006
          3) "58e6e48d41228013e5d9c1c37c5060693925e97e"
          4) 1) hostname
             2) "host-6.redis.example.com"

**警告：**在将来的版本中，可能会有更多的元素更好地描述节点。
一般来说，客户端实现应该只依赖于这样一个事实，即某些参数处于指定的固定位置，但更多的参数可能会随之而来，应该被忽略。
同样，客户端库应尽可能尝试处理旧版本可能只有主终结点和端口参数的事实。

## 行为更改历史记录

*   `>= 7.0.0`：在节点响应的第一个字段中添加了对主机名和未知端点的支持。
