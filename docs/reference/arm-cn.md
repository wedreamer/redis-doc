---
title: "ARM support"
linkTitle: "ARM support"
weight: 1
description: >
    Exploring Redis on the ARM CPU Architecture
aliases:
    - /topics/ARM
---

Redis 4.0 及更高版本通常支持 ARM 处理器，并且
特别是Raspberry Pi，作为主平台。Redis 的每个新版本都在 Pi 上进行了测试
环境，我们将更新此文档页面，其中包含有关受支持设备的信息和其他有用信息。虽然Redis确实在Android上运行，但在未来，我们期待将我们的测试工作扩展到Android。
也使其成为官方支持的平台。

我们相信，Redis是物联网和嵌入式设备的理想选择。
原因：

*   Redis 具有非常小的内存占用量和 CPU 要求。它可以在Raspberry Pi Zero等小型设备中运行，而不会影响整体性能，使用少量内存，同时为许多用例提供良好的性能。
*   Redis的数据结构通常是对物联网/嵌入式用例进行建模的理想方式。一些示例包括累积时序数据、接收或排队命令以执行或响应以发送回远程服务器等。
*   Redis 内部的建模数据非常有用，以便为必须非常快速响应的设备或远程服务器脱机时做出设备内决策。
*   Redis 可以用作设备中运行的进程之间的通信系统。
*   Redis 的仅追加文件存储非常适合 SSD 卡。
*   Redis 版本 5.0 及更高版本中包含的流数据结构专为时序应用程序而设计，具有非常低的内存开销。

## Redis /proc/cpu/alignment 要求

ARM上的Linux允许捕获未对齐的访问并将其修复在内核中
为了继续执行违规程序而不是
生成`SIGBUS`.Redis 4.0 及更高版本是固定的，以避免任何类型的
的未对齐访问，因此无需为此具有特定值
内核配置。即使内核对齐修复设置为禁用，Redis 也应该
按预期运行。

## 在 Pi 中构建 Redis

*   下载 Redis 版本 4.0 或更高版本。
*   用`make`像往常一样创建可执行文件。

在这个过程中没有什么特别的。唯一的区别是
默认，Redis 使用`libc`分配器，而不是默认为`jemalloc`
就像在其他基于Linux的环境中一样。这是因为我们相信
对于嵌入式设备内部的小型用例，内存碎片
不太可能成为问题。此外`jemalloc`在 ARM 上可能未经过测试
作为`libc`分配器。

## 性能

Redis的性能测试是在Raspberry Pi 3和Pi 1型号B上进行的。两个Pi在交付性能方面的差异非常大。基准测试是通过
环回接口，因为大多数用例可能会从内部使用Redis。
设备，而不是通过网络。以下数字是使用
Redis 4.0.

树莓派3：

*   测试 1：500 万次写入，100 万个密钥（在密钥之间均匀分布）。 没有持久性，没有流水线。28，000 次操作/秒
*   测试 2：与测试 1 类似，但使用 8 个操作组的流水线：80，000 次操作/秒。
*   测试 3：与测试 1 类似，但启用了 AOF，fsync 1 秒：23，000 次操作/秒
*   测试 4：与测试 3 类似，但正在进行 AOF 重写：21，000 次操作/秒

树莓派1型号B：

*   测试 1：500 万次写入，100 万个密钥（在密钥之间均匀分布）。 没有持久性，没有流水线。 2，200 次操作/秒
*   测试 2：与测试 1 类似，但使用 8 个操作组的流水线：8，500 次操作/秒。
*   测试 3：与测试 1 类似，但启用了 AOF，fsync 1 秒：1，820 次/秒
*   测试 4：与测试 3 类似，但正在进行 AOF 重写：1，000 次操作/秒

上面的基准是指简单`SET`/`GET`操作。所有 Redis 快速操作（不在线性时间中运行）的性能都相似。但是，排序的集合可能会显示稍慢的数字。
